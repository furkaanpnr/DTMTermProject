{% extends 'base.html' %}
{% load static %}

{% block custom_css %} 
<style>
    .info__box {
        background-color: #e7eaf6;
        border-radius: 10px;
        padding: 20px;
        margin-bottom: 20px;
    }
</style>
{% endblock %}

{% block content %}
    <div class="container mt-3">
        <div class="row">
            <!-- User Information Card -->
            <div class="col-lg-3 col-md-12 col-sm-12">
                <div class="side-profile-bar text-center shadow rounded">
                    <div class="d-flex flex-column align-items-center">
                        <div class="rounded-circle text-white mb-2 mt-2" style="width: 80px; height: 80px; line-height: 80px; background-color: #113f67;">
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-user"><path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path><circle cx="12" cy="7" r="4"></circle></svg>
                        </div>
                        <h2 class="mb-0">{{ thesis.author.first_name }} {{ thesis.author.last_name }}</h2>
                    </div>
                    <hr class="">
                    <div>
                        <div class="d-flex ms-2 me-2">
                            <p class="col-6"><strong>Institute:</strong></p>
                            <p class="col-6">{{ thesis.institute }}</p>
                        </div>
                        <div class="d-flex ms-2 me-2">
                            <p class="col-6"><strong>University:</strong></p>
                            <p class="col-6">{{ thesis.institute.university }}</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Thesis Information Card -->
            <div class="col-lg-8 col-md-12 col-sm-12 mb-5">
                <div class="main-detail-card shadow rounded" id="detail">
                    <div class="card">
                        <div class="card-body text-center">
                            <h4 class="card-title mb-5 mt-2">Thesis Information <div class="lines"></div></h4>

                            <!-- Row for Thesis No, Author, Supervisor, Co-Supervisor -->
                            <div class="mb-3 ms-1 me-1 gap-2 d-flex flex-row justify-content-center">
                                <div class="col-md-3 shadow rounded info__box">
                                    <div class="thesis-info-box">
                                        <h6 class="card-subtitle mb-2 text-muted">Thesis No</h6>
                                        <p class="card-text">{{ thesis.thesis_no }}</p>
                                    </div>
                                </div>
                                <div class="col-md-3 shadow rounded info__box">
                                    <div class="thesis-info-box">
                                        <h6 class="card-subtitle mb-2 text-muted">Author</h6>
                                        <p class="card-text">{{ thesis.author.username }}</p>
                                    </div>
                                </div>
                                <div class="col-md-3 shadow rounded info__box">
                                    <div class="thesis-info-box">
                                        <h6 class="card-subtitle mb-2 text-muted">Supervisor</h6>
                                        <p class="card-text">{% if thesis.supervisor %}{{ thesis.supervisor.username }}{% else %}N/A{% endif %}</p>
                                    </div>
                                </div>
                                <div class="col-md-3 shadow rounded info__box">
                                    <div class="thesis-info-box">
                                        <h6 class="card-subtitle mb-2 text-muted">Co-Supervisor</h6>
                                        <p class="card-text">{% if thesis.co_supervisor %}{{ thesis.co_supervisor.username }}{% else %}N/A{% endif %}</p>
                                    </div>
                                </div>
                            </div>

                            <!-- Row for Thesis Type, Language, Year -->
                            <div class="d-flex flex-row justify-content-center mb-3 ms-1 me-1 gap-2">
                                <div class="col-md-4 shadow rounded info__box">
                                    <div class="thesis-info-box">
                                        <h6 class="card-subtitle mb-2 text-muted">Thesis Type</h6>
                                        <p class="card-text">{{ thesis.thesis_type }}</p>
                                    </div>
                                </div>
                                <div class="col-md-4 shadow rounded info__box">
                                    <div class="thesis-info-box">
                                        <h6 class="card-subtitle mb-2 text-muted">Language</h6>
                                        <p class="card-text">{{ thesis.language }}</p>
                                    </div>
                                </div>
                                <div class="col-md-4 shadow rounded info__box">
                                    <div class="thesis-info-box">
                                        <h6 class="card-subtitle mb-2 text-muted">Year</h6>
                                        <p class="card-text">{{ thesis.year }}</p>
                                    </div>
                                </div>
                            </div>

                            <!-- Row for Title -->
                            <div class="mb-3 info__box">
                                <h6 class="card-subtitle mb-2 text-muted">Title</h6>
                                <p class="card-text">{{ thesis.title|title }}</p>
                            </div>

                            <!-- Row for Abstract -->
                            <div class="mb-3 info__box">
                                <h6 class="card-subtitle mb-2 text-muted">Abstract</h6>
                                <div class="card-text thesis-text" style="max-height: 150px; overflow-y: auto;">
                                    {{ thesis.abstract|safe }}
                                </div>
                            </div>

                            <!-- Row for Text -->
                            <div class="mb-3 info__box">
                                <h6 class="card-subtitle mb-2 text-muted">Text</h6>
                                <div class="card-text thesis-text" style="max-height: 300px; overflow-y: auto;">
                                    {{ thesis.text|safe }}
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>



        </div>
    </div>
{% endblock %}
<!-- {% if thesis.supervisor %}{{ thesis.supervisor.username }}{% else %}N/A{% endif %} -->